<div class="room-management user-management-card">
  <h2>Quản lý phòng</h2>

  <!-- Controls -->
  <div class="room-controls">
    <input type="text" placeholder="Tìm kiếm phòng..." />
    <button class="add-room" (click)="openAddPopup()">+ Thêm Phòng</button>
    <app-room-add *ngIf="showAddPopup" (added)="onAdded()" (closed)="onClosed()">
    </app-room-add>
  </div>

  <!-- Table Header -->
  <div class="table-header">
    <div>STT</div>
    <div>TÊN PHÒNG</div>
    <div>TẦNG</div>
    <div>TRẠNG THÁI</div>
    <div>SỐ GIƯỜNG</div>
    <div>GIÁ</div>
    <div>MÔ TẢ</div>
    <div>TIỆN NGHI</div>
    <div>HÀNH ĐỘNG</div>
  </div>

  <!-- Table Row -->
  <!-- Table Row -->
  <div class="table-row" *ngFor="let room of rooms; let i = index">
    <div>{{ i + 1 }}</div>
    <div>{{ room.TenPhong }}</div>
    <div>{{ room.Tang }}</div>
    <div>{{ room.TrangThai.TenTT || 'Không rõ' }}</div>
    <div>{{ room.MaLP.SoGiuong }}</div>
    <div>{{ room.MaLP.GiaPhong | currency:'VND' }}</div>
    <div>{{ room.MaLP.MoTa }}</div>
    <div>{{ getTienNghiNames(room.MaLP.TienNghi) }}</div>
    <div class="actions">
      <!-- Switch Toggle -->
      <label class="switch">
        <input type="checkbox" [checked]="room.TrangThai.TenTT === 'Hoạt động'" (change)="toggleRoomStatus(room)">
        <span class="slider"></span>
      </label>

      <!-- Edit icon -->
      <button (click)="editRoom(room)" title="Sửa phòng">
        <i class="fas fa-edit"></i>
      </button>
    </div>
  </div>

</div>
